{"version":3,"sources":["../app.js"],"names":[],"mappings":";;;;;;AAAA,SAAS,aAAT,GAAyB;;AAExB,QAAO;AACN,eADM;AAEN,0CAFM;AAGN,SAAO,EAAP;AACA,oBAAkB;AACjB,SAAM,GAAN;AACA,WAAQ,GAAR;AACA,WAAQ,WAAR;GAHD;AAKA,gBAAc,IAAd;AACA,cAAY,yBAAZ;AACA,QAAM,SAAS,IAAT,CAAe,KAAf,EAAsB,OAAtB,EAA+B,KAA/B,EAAsC,IAAtC,EAA4C;AACjD,WAAQ,CAAR,EAAW,gBAAX,CAA4B,OAA5B,EAAsC,YAAM;AAC3C,SAAK,gBAAL,CAAsB,MAAM,EAAN,CAAS,MAAT,CAAtB,CAD2C;IAAN,CAAtC,CADiD;GAA5C;EAXP,CAFwB;CAAzB;;IAqBM;AAEL,UAFK,uBAEL,CAAY,MAAZ,EAAoB,iBAApB,EAAuC;wBAFlC,yBAEkC;;AACtC,OAAK,iBAAL,GAAyB,iBAAzB,CADsC;AAEtC,OAAK,MAAL,GAAc,MAAd,CAFsC;EAAvC;;cAFK;;mCAOY,QAAQ;AACxB,WAAQ,GAAR,CAAY,QAAZ,EAAsB,MAAtB,EADwB;AAExB,QAAK,iBAAL,CAAuB,WAAvB,CAAmC,MAAnC,EAFwB;AAGxB,QAAK,MAAL,GAHwB;;;;QAPpB;;;IAcA;AAEL,UAFK,iBAEL,GAAc;wBAFT,mBAES;;AACb,OAAK,KAAL,GAAa,CAAb,CADa;EAAd;;cAFK;;8BAMO,QAAQ;AACnB,OAAI,WAAW,KAAX,EAAkB;AACrB,SAAK,KAAL,IAAc,CAAd,CADqB;IAAtB,MAGK,IAAI,WAAW,UAAX,EAAuB;AAC/B,SAAK,KAAL,IAAc,CAAd,CAD+B;IAA3B;;;;6BAKK;AACV,UAAO,KAAK,KAAL,CADG;;;;QAfN;;;IAqBA;AACL,UADK,oBACL,CAAY,MAAZ,EAAoB,iBAApB,EAAuC;wBADlC,sBACkC;;AACtC,OAAK,MAAL,GAAc,MAAd,CADsC;AAEtC,OAAK,KAAL,GAAa,kBAAkB,QAAlB,EAAb,CAFsC;AAGtC,OAAK,iBAAL,GAAyB,iBAAzB,CAHsC;EAAvC;;cADK;;kCAOW;;;AACf,QAAK,MAAL,CAAY,MAAZ,CAAmB,YAAM;AACxB,UAAK,KAAL,GAAa,MAAK,iBAAL,CAAuB,QAAvB,EAAb,CADwB;IAAN,CAAnB,CADe;;;;QAPX;;;AAcN,SAAS,UAAT,GAAuB;AACtB,QAAO;AACN,YAAU,GAAV;AACA,gBAAc,IAAd;AACA,oBAAkB,IAAlB;AACA,cAAY,sBAAZ;AACA,uSALM;EAAP,CADsB;CAAvB;;AAkBA,QAAQ,MAAR,CAAe,aAAf,EAA8B,EAA9B,EACE,OADF,CACU,mBADV,EAC+B,iBAD/B,EAEE,UAFF,CAEa,sBAFb,EAEqC,oBAFrC,EAGE,UAHF,CAGa,yBAHb,EAGwC,uBAHxC,EAIE,SAJF,CAIY,eAJZ,EAI6B,aAJ7B,EAKE,SALF,CAKY,YALZ,EAK0B,UAL1B;;AAQA,QAAQ,SAAR,CAAkB,QAAlB,EAA4B,CAAC,aAAD,CAA5B","file":"app.js","sourcesContent":["function counterButton() {\n\n\treturn {\n\t\trestrict: `E`,\n\t\ttemplate: `<button>{{vm.text}}</button>`,\n\t\tscope: {},\n\t\tbindToController: {\n\t\t\ttext: '@',\n\t\t\taction: '@',\n\t\t\tupdate: '&onUpdate'\n\t\t},\n\t\tcontrollerAs: 'vm',\n\t\tcontroller: 'CounterButtonController',\n\t\tlink: function link (scope, element, attrs, ctrl) {\n\t\t\telement[0].addEventListener('click',  () => {\n\t\t\t\tctrl.updateWithAction(scope.vm.action);\n\t\t\t});\n\t\t}\n\t}\n}\n\nclass CounterButtonController {\n\n\tconstructor($scope, CounterAppService) {\n\t\tthis.CounterAppService = CounterAppService;\n\t\tthis.$scope = $scope;\n\t}\n\n\tupdateWithAction(action) {\n\t\tconsole.log('action', action);\n\t\tthis.CounterAppService.updateValue(action);\n\t\tthis.update();\n\t}\n}\n\nclass CounterAppService {\n\n\tconstructor() {\n\t\tthis.value = 0;\n\t}\n\n\tupdateValue(action) {\n\t\tif (action === 'add') {\n\t\t\tthis.value += 1;\n\t\t}\n\t\telse if (action === 'subtract') {\n\t\t\tthis.value -= 1;\n\t\t}\n\t}\n\n\tgetValue() {\n\t\treturn this.value;\n\t}\n\n}\n\nclass CounterAppController {\n\tconstructor($scope, CounterAppService) {\n\t\tthis.$scope = $scope;\n\t\tthis.value = CounterAppService.getValue();\n\t\tthis.CounterAppService = CounterAppService;\n\t}\n\n\tupdateCounter() {\n\t\tthis.$scope.$apply(() => {\n\t\t\tthis.value = this.CounterAppService.getValue();\n\t\t});\n\t}\n}\n\nfunction counterApp () {\n\treturn {\n\t\trestrict: 'E',\n\t\tcontrollerAs: 'vm',\n\t\tbindToController: true,\n\t\tcontroller: 'CounterAppController',\n\t\ttemplate: `\n\t\t  <div>\n\t\t\t<counter-button text='+' action='add' on-update=\"vm.updateCounter()\">\n\t\t\t</counter-button>\n\t\t\t<counter-button text='-' action='subtract' on-update=\"vm.updateCounter()\">\n\t\t\t</counter-button>\n\t\t\t<div>{{vm.value}}</div>\n\t\t  </div>\n\t\t`\n\t};\n}\n\nangular.module('counter.app', [])\n\t.service('CounterAppService', CounterAppService)\n\t.controller('CounterAppController', CounterAppController)\n\t.controller('CounterButtonController', CounterButtonController)\n\t.directive('counterButton', counterButton)\n\t.directive('counterApp', counterApp)\n;\n\nangular.bootstrap(document, ['counter.app']);\n"]}