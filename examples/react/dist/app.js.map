{"version":3,"sources":["../app.js"],"names":[],"mappings":";;;;;;;;;;;;aAAsB;IAAd;;AACR,IAAM,aAAa,IAAI,KAAK,UAAL,EAAjB;;;AAGN,IAAM,eAAe,QAAf;;AAEN,IAAM,YAAY,OAAO,MAAP,CAAc,EAAd,EAAkB,aAAa,SAAb,EAAwB;;AAE3D,aAAY,sBAAW;AACtB,OAAK,IAAL,CAAU,YAAV,EADsB;EAAX;;AAIZ,oBAAmB,2BAAS,QAAT,EAAmB;AACrC,OAAK,EAAL,CAAQ,YAAR,EAAsB,QAAtB,EADqC;EAAnB;;AAInB,iBAAgB,wBAAS,QAAT,EAAmB;AAClC,OAAK,cAAL,CAAoB,YAApB,EAAkC,QAAlC,EADkC;EAAnB;CAVC,CAAZ;;;AAgBN,IAAM,cAAc;AACnB,YAAW,WAAX;AACA,YAAW,WAAX;CAFK;;;AAMN,IAAM,iBAAiB;AACtB,kBAAiB,2BAAM;AACtB,aAAW,QAAX,CAAoB;AACnB,SAAM,YAAY,SAAZ;GADP,EADsB;EAAN;;AAMjB,kBAAiB,2BAAM;AACtB,aAAW,QAAX,CAAoB;AACnB,SAAM,YAAY,SAAZ;GADP,EADsB;EAAN;CAPZ;;AAcN,IAAI,WAAW,CAAX;AACJ,IAAM,eAAe,OAAO,MAAP,CAAc,EAAd,EAAkB,SAAlB,EAA6B;AACjD,aAAY;SAAM;EAAN;AACZ,gBAAe,WAAW,QAAX,CAAoB,kBAAU;AAC5C,UAAO,OAAO,IAAP;AACN,QAAK,YAAY,SAAZ;AACJ,gBAAY,CAAZ,CADD;AAEC,iBAAa,UAAb,GAFD;AAGC,UAHD;AADD,QAKM,YAAY,SAAZ;AACJ,gBAAY,CAAZ,CADD;AAEC,iBAAa,UAAb,GAFD;AAGC,UAHD;AALD,GAD4C;EAAV,CAAnC;CAFoB,CAAf;;AAgBN,SAAS,aAAT,OAAyC;KAAjB,iBAAiB;;KAAR,iDAAQ;;AACxC,QAAO;;EAAY,KAAZ;EAAoB,IAApB;EAAP,CADwC;CAAzC;;IAIM;;;AAEL,UAFK,OAEL,GAAc;wBAFT,SAES;;qEAFT,qBAES;;AAEb,QAAK,KAAL,GAAa;AACZ,YAAS,MAAK,kBAAL,EAAT;GADD,CAFa;;AAMb,QAAK,SAAL,GAAiB,MAAK,SAAL,CAAe,IAAf,OAAjB,CANa;;EAAd;;cAFK;;sCAWe;AACnB,gBAAa,iBAAb,CAA+B,KAAK,SAAL,CAA/B,CADmB;;;;yCAIG;AACtB,gBAAa,oBAAb,CAAkC,KAAK,SAAL,CAAlC,CADsB;;;;8BAIX;AACX,kBAAe,eAAf,GADW;;;;8BAIA;AACX,kBAAe,eAAf,GADW;;;;8BAIA;AACX,OAAM,UAAU,KAAK,kBAAL,EAAV,CADK;AAEX,QAAK,QAAL,CAAc,EAAE,gBAAF,EAAd,EAFW;;;;uCAKS;AACpB,UAAO,aAAa,UAAb,EAAP,CADoB;;;;2BAIZ;;;AACR,UACC;;;IACC,oBAAC,aAAD,IAAe,MAAK,GAAL,EAAS,SAAS;aAAM,OAAK,SAAL;MAAN,EAAjC,CADD;IAEC,oBAAC,aAAD,IAAe,MAAK,GAAL,EAAS,SAAS;aAAM,OAAK,SAAL;MAAN,EAAjC,CAFD;IAGC;;;KAAM,KAAK,KAAL,CAAW,OAAX;KAHP;IADD,CADQ;;;;QApCJ;EAAgB;;AA+CtB,SAAS,MAAT,CAAgB,oBAAC,OAAD,OAAhB,EAA6B,SAAS,cAAT,CAAwB,KAAxB,CAA7B","file":"app.js","sourcesContent":["const { Component } = React;\nconst Dispatcher = new Flux.Dispatcher();\n\n// Base\nconst CHANGE_EVENT = 'change';\n\nconst BaseStore = Object.assign({}, EventEmitter.prototype, {\n\n\temitChange: function() {\n\t\tthis.emit(CHANGE_EVENT);\n\t},\n\n\taddChangeListener: function(callback) {\n\t\tthis.on(CHANGE_EVENT, callback);\n\t},\n\n\tremoveListener: function(callback) {\n\t\tthis.removeListener(CHANGE_EVENT, callback);\n\t}\n});\n\n// Constants:\nconst ActionTypes = {\n\tINCREMENT: 'INCREMENT',\n\tDECREMENT: 'DECREMENT'\n};\n\n// Action Creators\nconst ActionCreators = {\n\tcreateIncrement: () => {\n\t\tDispatcher.dispatch({\n\t\t\ttype: ActionTypes.INCREMENT\n\t\t});\n\t},\n\n\tcreateDecrement: () => {\n\t\tDispatcher.dispatch({\n\t\t\ttype: ActionTypes.DECREMENT\n\t\t});\n\t}\n}\n\nlet _counter = 0;\nconst CounterStore = Object.assign({}, BaseStore, {\n\tgetCounter: () => _counter,\n\tdispatchToken: Dispatcher.register(action => {\n\t\tswitch(action.type) {\n\t\t\tcase ActionTypes.INCREMENT:\n\t\t\t\t_counter += 1;\n\t\t\t\tCounterStore.emitChange();\n\t\t\t\tbreak;\n\t\t\tcase ActionTypes.DECREMENT:\n\t\t\t\t_counter -= 1;\n\t\t\t\tCounterStore.emitChange();\n\t\t\t\tbreak;\n\t\t}\n\t})\n});\n\nfunction CounterButton({text, ...props}) {\n\treturn <button {...props}>{text}</button>;\n}\n\nclass Counter extends Component {\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tcounter: this._getStateFromStore()\n\t\t}\n\n\t\tthis._onChange = this._onChange.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tCounterStore.addChangeListener(this._onChange);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tCounterStore.removeChangeListener(this._onChange);\n\t}\n\n\tincrement() {\n\t\tActionCreators.createIncrement();\n\t}\n\n\tdecrement() {\n\t\tActionCreators.createDecrement();\n\t}\n\n\t_onChange() {\n\t\tconst counter = this._getStateFromStore();\n\t\tthis.setState({ counter });\n\t}\n\n\t_getStateFromStore() {\n\t\treturn CounterStore.getCounter();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<CounterButton text='+' onClick={() => this.increment()} />\n\t\t\t\t<CounterButton text='-' onClick={() => this.decrement()} />\n\t\t\t\t<div>{this.state.counter}</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nReactDOM.render(<Counter />, document.getElementById('app'));\n"]}